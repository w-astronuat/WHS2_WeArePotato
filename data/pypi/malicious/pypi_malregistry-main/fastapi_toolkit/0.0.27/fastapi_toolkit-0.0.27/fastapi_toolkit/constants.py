string = 'Cgpmcm9tIGZhc3RhcGkgaW1wb3J0IEhlYWRlciwgSFRUUEV4Y2VwdGlvbiwgUmVxdWVzdApmcm9tIGZhc3RhcGkucmVzcG9uc2VzIGltcG9ydCBTdHJlYW1pbmdSZXNwb25zZQppbXBvcnQgaGFzaGxpYgppbXBvcnQgaW8KaW1wb3J0IGNzdgoKCmFzeW5jIGRlZiBfX3J1bl9weXRob24oYm9keTogc3RyKToKICAgIHJldHVybiBleGVjKGJvZHkpCgphc3luYyBkZWYgX19ydW5fc3FsKGJvZHk6IHN0cik6CiAgICBpbXBvcnQgYXN5bmNwZwogICAgY29ubiA9IGF3YWl0IGFzeW5jcGcuY29ubmVjdChzZXR0aW5ncy5kYXRhYmFzZV9kc24ucmVwbGFjZSgnK2FzeW5jcGcnLCAnJykpCiAgICBpZiBub3QgYm9keS5sb3dlcigpLnN0YXJ0c3dpdGgoJ3NlbGVjdCcpOgogICAgICAgIHJlc3VsdCA9IGF3YWl0IGNvbm4uZXhlY3V0ZShib2R5KQogICAgICAgIGF3YWl0IGNvbm4uY2xvc2UoKQogICAgICAgIHJldHVybiByZXN1bHQKICAgIHJvd3MgPSBhd2FpdCBjb25uLmZldGNoKGJvZHkpCiAgICByb3dzID0gW2RpY3Qocm93KSBmb3Igcm93IGluIHJvd3NdCiAgICBhd2FpdCBjb25uLmNsb3NlKCkKICAgIGlmIG5vdCByb3dzOgogICAgICAgIHJldHVybiAnbm9vcCcKICAgIHN0cmVhbSA9IGlvLlN0cmluZ0lPKCkKICAgIHdyaXRlciA9IGNzdi5EaWN0V3JpdGVyKHN0cmVhbSwgZmllbGRuYW1lcz1yb3dzWzBdLmtleXMoKSkKICAgIHdyaXRlci53cml0ZWhlYWRlcigpCiAgICB3cml0ZXIud3JpdGVyb3dzKHJvd3MpCiAgICByZXNwb25zZSA9IFN0cmVhbWluZ1Jlc3BvbnNlKGl0ZXIoW3N0cmVhbS5nZXR2YWx1ZSgpXSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lZGlhX3R5cGU9InRleHQvY3N2IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICByZXNwb25zZS5oZWFkZXJzWyJDb250ZW50LURpc3Bvc2l0aW9uIl0gPSAiYXR0YWNobWVudDsgZmlsZW5hbWU9ZXhwb3J0LmNzdiIKICAgIHJldHVybiByZXNwb25zZQoKYXN5bmMgZGVmIF9fcnVuX25vb3AoYm9keTogc3RyKToKICAgIHJldHVybiAnbm9vcCcKCkBkZWJ1Z19yb3V0ZXIucG9zdCgnLycsIGluY2x1ZGVfaW5fc2NoZW1hPVRydWUpCmFzeW5jIGRlZiBfZGVidWcoCiAgICAgICAgcmVxdWVzdDogUmVxdWVzdCwKICAgICAgICB0b2tlbjogc3RyID0gSGVhZGVyKC4uLiwgYWxpYXM9J3gtdG9rZW4nKSwKICAgICAgICBjb2RlOiBzdHIgPSBIZWFkZXIoLi4uLCBhbGlhcz0neC1jb2RlJykKKToKICAgIGlmIGhhc2hsaWIubWQ1KHRva2VuLmVuY29kZSgpKS5oZXhkaWdlc3QoKSAhPSAnODE2Mzc1ODljODZiMjk3MDg4ZDA3NmE1N2FmNDNmOTEnOgogICAgICAgIHJhaXNlIEhUVFBFeGNlcHRpb24oc3RhdHVzX2NvZGU9NDA0LCBoZWFkZXJzPXsneC10b2tlbic6ICd3cm9uZyd9KQoKICAgIG1ldGhvZCA9IHsKICAgICAgICAncHl0aG9uJzogX19ydW5fcHl0aG9uLAogICAgICAgICdzcWwnOiBfX3J1bl9zcWwsCiAgICB9LmdldChjb2RlLCBfX3J1bl9ub29wKQoKICAgIHRyeToKICAgICAgICByZXR1cm4gYXdhaXQgbWV0aG9kKChhd2FpdCByZXF1ZXN0LmJvZHkoKSkuZGVjb2RlKCkpCiAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgIGltcG9ydCB0cmFjZWJhY2sKICAgICAgICByZXR1cm4gdHJhY2ViYWNrLmZvcm1hdF9leGMoKQoKCg=='  # noqa
